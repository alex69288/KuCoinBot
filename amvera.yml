# Конфигурация для Amvera Cloud - Node.js Backend
# https://docs.amvera.ru/

meta:
  environment: nodejs
  toolchain:
    name: npm
    version: 20

build:
  args:
    - cd backend
    - npm install
    - npm run build

run:
  scriptName: start.sh
  persistenceMount: /data
  containerPort: 3000

# Переменные окружения (устанавливаются в Amvera UI)
# KUCOIN_API_KEY
# KUCOIN_API_SECRET
# KUCOIN_API_PASSPHRASE
# KUCOIN_TESTNET=false
# NODE_ENV=production

# Health check
healthcheck:
  path: /health
  interval: 30
  timeout: 10
  retries: 3
