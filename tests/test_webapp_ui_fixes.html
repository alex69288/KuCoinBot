<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π WebApp UI</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #181c24;
      color: #f5f5f5;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }

    .test-section {
      background: #232a36;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .test-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 15px;
      color: #00bcd4;
    }

    .test-result {
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
      font-size: 14px;
    }

    .test-pass {
      background: rgba(76, 175, 80, 0.2);
      color: #4caf50;
      border: 1px solid #4caf50;
    }

    .test-fail {
      background: rgba(229, 57, 53, 0.2);
      color: #e53935;
      border: 1px solid #e53935;
    }

    .test-info {
      background: rgba(0, 188, 212, 0.2);
      color: #00bcd4;
      border: 1px solid #00bcd4;
    }

    button {
      padding: 12px 20px;
      background: #00bcd4;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      margin: 5px;
    }

    button:hover {
      background: #0097a7;
    }

    .icon-test {
      display: inline-block;
      margin: 0 5px;
      font-size: 24px;
    }

    .value-demo {
      font-size: 24px;
      font-weight: 600;
      margin: 10px 0;
      padding: 15px;
      background: rgba(0, 188, 212, 0.1);
      border-radius: 8px;
      display: inline-block;
    }

    .value-flash-up {
      animation: flashUp 1.8s ease;
    }

    .value-flash-down {
      animation: flashDown 1.8s ease;
    }

    @keyframes flashUp {

      0%,
      50% {
        color: #4caf50;
        transform: scale(1.05);
        text-shadow: 0 0 8px #4caf50;
      }

      100% {
        color: inherit;
        transform: scale(1);
        text-shadow: none;
      }
    }

    @keyframes flashDown {

      0%,
      50% {
        color: #e53935;
        transform: scale(1.05);
        text-shadow: 0 0 8px #e53935;
      }

      100% {
        color: inherit;
        transform: scale(1);
        text-shadow: none;
      }
    }

    .log {
      background: #1a1d24;
      padding: 10px;
      border-radius: 8px;
      font-family: monospace;
      font-size: 12px;
      max-height: 200px;
      overflow-y: auto;
      margin-top: 10px;
    }

    .log-entry {
      margin: 2px 0;
    }
  </style>
</head>

<body>
  <h1>üß™ –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π WebApp UI</h1>

  <!-- –¢–µ—Å—Ç 1: –ò–∫–æ–Ω–∫–∏ SVG -->
  <div class="test-section">
    <div class="test-title">‚úÖ –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–≤–µ—Ç–∞ –∏–∫–æ–Ω–æ–∫ SVG</div>
    <div id="icon-test-result" class="test-result test-info">
      –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∫–æ–Ω–æ–∫...
    </div>
    <div style="margin-top: 15px;">
      <p>–ò–∫–æ–Ω–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–µ–ª–æ–≥–æ —Ü–≤–µ—Ç–∞ (–Ω–µ —Å–µ—Ä–æ–≥–æ):</p>
      <div style="font-size: 32px; margin: 10px 0;">
        <span class="icon-test">ü§ñ</span>
        <span class="icon-test">üìä</span>
        <span class="icon-test">üí∞</span>
        <span class="icon-test">‚öôÔ∏è</span>
        <span class="icon-test">üéØ</span>
      </div>
    </div>
    <button onclick="testIcons()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∫–æ–Ω–∫–∏</button>
  </div>

  <!-- –¢–µ—Å—Ç 2: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ -->
  <div class="test-section">
    <div class="test-title">üîÑ –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</div>
    <div id="auto-update-result" class="test-result test-info">
      –û–∂–∏–¥–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π...
    </div>
    <div>
      <p>–°—á—ë—Ç—á–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π: <strong id="update-counter">0</strong></p>
      <p>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: <strong id="last-update">-</strong></p>
      <p>–ò–Ω—Ç–µ—Ä–≤–∞–ª: <strong id="update-interval">-</strong></p>
    </div>
    <button onclick="startAutoUpdate()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</button>
    <button onclick="stopAutoUpdate()">–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
    <div class="log" id="update-log"></div>
  </div>

  <!-- –¢–µ—Å—Ç 3: –ê–Ω–∏–º–∞—Ü–∏—è -->
  <div class="test-section">
    <div class="test-title">‚ú® –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π</div>
    <div id="animation-test-result" class="test-result test-info">
      –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∞–Ω–∏–º–∞—Ü–∏–∏
    </div>
    <div style="text-align: center;">
      <div class="value-demo" id="demo-value">100.00 USDT</div>
    </div>
    <div style="margin-top: 15px;">
      <button onclick="animateUp()">üìà –ê–Ω–∏–º–∞—Ü–∏—è —Ä–æ—Å—Ç–∞</button>
      <button onclick="animateDown()">üìâ –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è</button>
    </div>
    <p style="margin-top: 10px; font-size: 13px; color: #b0b8c1;">
      ‚ÑπÔ∏è –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –¥–ª–∏—Ç—å—Å—è ~1.8 —Å–µ–∫—É–Ω–¥—ã —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –º–∞—Å—à—Ç–∞–±–∞ –∏ —Å–≤–µ—á–µ–Ω–∏–µ–º
    </p>
  </div>

  <!-- –¢–µ—Å—Ç 4: –í–∏–¥–∏–º–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
  <div class="test-section">
    <div class="test-title">üëÅÔ∏è –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏</div>
    <div id="visibility-result" class="test-result test-info">
      –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–∏–¥–∏–º–∞
    </div>
    <p style="font-size: 13px; color: #b0b8c1; margin-top: 10px;">
      ‚ÑπÔ∏è –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–∫–ª–∞–¥–∫—É –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ —Å–≤–µ—Ä–Ω—É—Ç—å –æ–∫–Ω–æ, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏
    </p>
    <div class="log" id="visibility-log"></div>
  </div>

  <script>
    let updateInterval = null;
    let updateCounter = 0;
    let lastUpdateTime = Date.now();

    // –¢–µ—Å—Ç 1: –ò–∫–æ–Ω–∫–∏
    function testIcons() {
      const result = document.getElementById('icon-test-result');
      // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É SVG
      const svgLoaded = document.querySelector('svg') !== null;

      if (svgLoaded) {
        result.className = 'test-result test-pass';
        result.textContent = '‚úÖ SVG-—Å–ø—Ä–∞–π—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω–æ, —á—Ç–æ –∏–∫–æ–Ω–∫–∏ –±–µ–ª–æ–≥–æ —Ü–≤–µ—Ç–∞.';
      } else {
        result.className = 'test-result test-info';
        result.textContent = '‚ö†Ô∏è SVG-—Å–ø—Ä–∞–π—Ç—ã –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –≤ DOM. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–º–æ–¥–∑–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.';
      }
    }

    // –¢–µ—Å—Ç 2: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    function startAutoUpdate() {
      if (updateInterval) {
        clearInterval(updateInterval);
      }

      updateCounter = 0;
      lastUpdateTime = Date.now();

      const result = document.getElementById('auto-update-result');
      result.className = 'test-result test-pass';
      result.textContent = '‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ (–∏–Ω—Ç–µ—Ä–≤–∞–ª: 2 —Å–µ–∫—É–Ω–¥—ã)';

      addUpdateLog('üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ');

      updateInterval = setInterval(() => {
        if (document.hidden) {
          addUpdateLog('‚è∏Ô∏è –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫—Ä—ã—Ç–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ');
          return;
        }

        const now = Date.now();
        const interval = now - lastUpdateTime;
        lastUpdateTime = now;
        updateCounter++;

        document.getElementById('update-counter').textContent = updateCounter;
        document.getElementById('last-update').textContent = new Date().toLocaleTimeString();
        document.getElementById('update-interval').textContent = `${interval}–º—Å`;

        addUpdateLog(`üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ #${updateCounter} (–∏–Ω—Ç–µ—Ä–≤–∞–ª: ${interval}–º—Å)`);

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª –±–ª–∏–∑–æ–∫ –∫ 2000–º—Å (¬±200–º—Å –¥–æ–ø—É—Å–∫)
        if (updateCounter > 1 && (interval < 1800 || interval > 2200)) {
          result.className = 'test-result test-fail';
          result.textContent = `‚ö†Ô∏è –ò–Ω—Ç–µ—Ä–≤–∞–ª –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–º—É: ${interval}–º—Å –≤–º–µ—Å—Ç–æ ~2000–º—Å`;
        }
      }, 2000);
    }

    function stopAutoUpdate() {
      if (updateInterval) {
        clearInterval(updateInterval);
        updateInterval = null;

        const result = document.getElementById('auto-update-result');
        result.className = 'test-result test-info';
        result.textContent = `‚èπÔ∏è –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ. –í—ã–ø–æ–ª–Ω–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π: ${updateCounter}`;

        addUpdateLog('‚èπÔ∏è –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
      }
    }

    function addUpdateLog(message) {
      const log = document.getElementById('update-log');
      const entry = document.createElement('div');
      entry.className = 'log-entry';
      entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
      log.insertBefore(entry, log.firstChild);

      // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
      while (log.children.length > 20) {
        log.removeChild(log.lastChild);
      }
    }

    // –¢–µ—Å—Ç 3: –ê–Ω–∏–º–∞—Ü–∏—è
    function animateUp() {
      const elem = document.getElementById('demo-value');
      const currentValue = parseFloat(elem.textContent);
      const newValue = currentValue + 10.50;

      elem.classList.remove('value-flash-up', 'value-flash-down');
      void elem.offsetWidth; // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
      elem.classList.add('value-flash-up');
      elem.textContent = `${newValue.toFixed(2)} USDT`;

      setTimeout(() => {
        elem.classList.remove('value-flash-up');
        document.getElementById('animation-test-result').className = 'test-result test-pass';
        document.getElementById('animation-test-result').textContent = '‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è —Ä–æ—Å—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞';
      }, 1900);
    }

    function animateDown() {
      const elem = document.getElementById('demo-value');
      const currentValue = parseFloat(elem.textContent);
      const newValue = currentValue - 8.30;

      elem.classList.remove('value-flash-up', 'value-flash-down');
      void elem.offsetWidth;
      elem.classList.add('value-flash-down');
      elem.textContent = `${newValue.toFixed(2)} USDT`;

      setTimeout(() => {
        elem.classList.remove('value-flash-down');
        document.getElementById('animation-test-result').className = 'test-result test-pass';
        document.getElementById('animation-test-result').textContent = '‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞';
      }, 1900);
    }

    // –¢–µ—Å—Ç 4: –í–∏–¥–∏–º–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('visibilitychange', () => {
      const result = document.getElementById('visibility-result');
      const log = document.getElementById('visibility-log');

      if (document.hidden) {
        result.className = 'test-result test-info';
        result.textContent = 'üôà –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫—Ä—ã—Ç–∞';
        addVisibilityLog('üôà –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫—Ä—ã—Ç–∞');
      } else {
        result.className = 'test-result test-pass';
        result.textContent = 'üëÅÔ∏è –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–Ω–æ–≤–∞ –≤–∏–¥–Ω–∞';
        addVisibilityLog('üëÅÔ∏è –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–Ω–æ–≤–∞ –≤–∏–¥–Ω–∞ - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ');
      }
    });

    function addVisibilityLog(message) {
      const log = document.getElementById('visibility-log');
      const entry = document.createElement('div');
      entry.className = 'log-entry';
      entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
      log.insertBefore(entry, log.firstChild);

      while (log.children.length > 10) {
        log.removeChild(log.lastChild);
      }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    window.addEventListener('load', () => {
      testIcons();
      addVisibilityLog('‚úÖ –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
    });
  </script>
</body>

</html>