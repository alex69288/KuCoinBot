# üß™ –¢–µ—Å—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ KuCoin Trading Bot

–í —ç—Ç–æ–π –ø–∞–ø–∫–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞.

---

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã

### ‚úÖ test_webapp_url_validation.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ WEBAPP_URL –¥–ª—è Telegram WebApp

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç**:
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ URL (–ø—É—Å—Ç—ã–µ, HTTP, HTTPS, localhost)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ .env
- ‚úÖ 8 —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤

**–ó–∞–ø—É—Å–∫**:
```bash
python tests/test_webapp_url_validation.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 8/8 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ ‚úÖ

---

## üîß –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏
- `clean_position_state.py` - –û—á–∏—Å—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π
- `migrate_position_state.py` - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- `add_second_position.py` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Ç–æ—Ä–æ–π –ø–æ–∑–∏—Ü–∏–∏
- `keep_only_2_positions.py` - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ 2 –ø–æ–∑–∏—Ü–∏–∏
- `remove_position_3.py` - –£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–µ—Ç—å–µ–π –ø–æ–∑–∏—Ü–∏–∏
- `fix_missing_position.py` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–∑–∏—Ü–∏–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API
- `test_kucoin_api.py` - –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ KuCoin API
- `test_api_direct.py` - –ü—Ä—è–º—ã–µ —Ç–µ—Å—Ç—ã API
- `debug_fetch.py` - –û—Ç–ª–∞–¥–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑–∏—Ü–∏–π –∏ –æ—Ä–¥–µ—Ä–æ–≤
- `test_open_positions.py` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- `test_orders.py` - –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –æ—Ä–¥–µ—Ä–æ–≤
- `test_trades.py` - –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Å–¥–µ–ª–æ–∫
- `test_position_count.py` - –ü–æ–¥—Å—á–µ—Ç –ø–æ–∑–∏—Ü–∏–π
- `test_count_via_orders.py` - –ü–æ–¥—Å—á–µ—Ç —á–µ—Ä–µ–∑ –æ—Ä–¥–µ—Ä–∞

### –ò—Å—Ç–æ—Ä–∏—è –∏ –¥–∞–Ω–Ω—ã–µ
- `test_all_history_sources.py` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏—Å—Ç–æ—Ä–∏–∏
- `test_trades_params.py` - –¢–µ—Å—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–¥–µ–ª–æ–∫
- `test_params_variants.py` - –í–∞—Ä–∏–∞–Ω—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `test_webapp.py` - –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ—Å—Ç WebApp
- `test_webapp_simple.py` - –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç WebApp
- `test_webapp_only.py` - –¢–µ—Å—Ç —Ç–æ–ª—å–∫–æ WebApp
- `test_webapp_buttons_fix.py` - –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫
- `test_buttons_fix.html` - HTML —Ç–µ—Å—Ç –∫–Ω–æ–ø–æ–∫
- `test_minimal_server.py` - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–æ–≤

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `test_full_deployment.py` - –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `test_amvera_config.py` - –¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Amvera
- `test_server_config.py` - –¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
- `test_server_diagnostics.py` - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `test_startup_system.py` - –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∑–∞–ø—É—Å–∫–∞

### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- `test_buy_block.py` - –¢–µ—Å—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–∫—É–ø–æ–∫

---

## üöÄ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

```bash
python tests/run_all_checks.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.

---

## üìù –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Å–ª–µ–¥—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

```python
"""
–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞
"""
import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

def test_something():
    """–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞"""
    # –í–∞—à –∫–æ–¥ —Ç–µ—Å—Ç–∞
    print("‚úÖ –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω")
    return True

if __name__ == '__main__':
    success = test_something()
    sys.exit(0 if success else 1)
```

---

## üß™ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –±–æ—Ç–∞
```bash
python tests/test_kucoin_api.py
python tests/test_open_positions.py
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è WebApp
```bash
python tests/test_webapp_url_validation.py
python tests/test_webapp.py
```

### –ü–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
```bash
python tests/test_full_deployment.py
python tests/test_amvera_config.py
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [../docs/INDEX.md](../docs/INDEX.md) - –ì–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [../docs/WEBAPP_SETUP.md](../docs/WEBAPP_SETUP.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WebApp
- [../docs/DEPLOYMENT.md](../docs/DEPLOYMENT.md) - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 11 –Ω–æ—è–±—Ä—è 2025
