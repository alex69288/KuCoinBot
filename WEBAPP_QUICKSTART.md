# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Telegram Web App

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

Telegram Web App —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω! –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## üì¶ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. Backend (FastAPI —Å–µ—Ä–≤–µ—Ä)
- `webapp/server.py` - REST API —Å–µ—Ä–≤–µ—Ä —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏:
  - `/api/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
  - `/api/status` - —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞, –±–∞–ª–∞–Ω—Å, –ø–æ–∑–∏—Ü–∏–∏
  - `/api/market` - –¥–∞–Ω–Ω—ã–µ —Ä—ã–Ω–∫–∞
  - `/api/bot/start` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
  - `/api/bot/stop` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
  - `/api/settings` - –ø–æ–ª—É—á–µ–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
  - `/api/trades` - –∏—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫

### 2. Frontend (Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- `webapp/static/index.html` - –∫—Ä–∞—Å–∏–≤—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å:
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Å—Ç–∞—Ç—É—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –±–∞–ª–∞–Ω—Å–∞ –∏ –ø–æ–∑–∏—Ü–∏–π
  - –†—ã–Ω–æ—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
  - –ö–Ω–æ–ø–∫–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º
  - –ü–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–º–Ω–æ–π/—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã Telegram

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
- `telegram/bot.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Web App

### 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- `main_with_webapp.py` - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ + Web App
- `tests/test_webapp.py` - —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API
- `webapp/README.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```
‚úÖ PASSED - Health Check
‚úÖ PASSED - Authorization Protection
–ü—Ä–æ–π–¥–µ–Ω–æ: 2/2 (100%)
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è production

### 1. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
python -m webapp.server
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8000

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Telegram

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ngrok (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok: https://ngrok.com/download
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å:
   ```bash
   ngrok http 8000
   ```
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://abc123.ngrok.io`)
4. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
   ```
   WEBAPP_URL=https://abc123.ngrok.io
   ```
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

#### –í–∞—Ä–∏–∞–Ω—Ç B: VPS/Dedicated Server

1. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø—É–±–ª–∏—á–Ω—ã–º IP
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx + SSL (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ HTTPS!)
3. –£–∫–∞–∂–∏—Ç–µ –¥–æ–º–µ–Ω –≤ `.env`:
   ```
   WEBAPP_URL=https://your-domain.com
   ```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –≤ Telegram

–û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```
/mybots
‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
‚Üí Bot Settings
‚Üí Menu Button
‚Üí Edit Menu Button URL
‚Üí –í–≤–µ–¥–∏—Ç–µ: https://your-domain.com
‚Üí –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
```

### 4. –ó–∞–ø—É—Å–∫ –≤ production

```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Å Web App
python main_with_webapp.py

# –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ:
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ë–æ—Ç
python main.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: Web App
python -m webapp.server
```

## üì± –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é (—Å–ª–µ–≤–∞ –æ—Ç –ø–æ–ª—è –≤–≤–æ–¥–∞) –∏–ª–∏ –Ω–∞–π–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π "üöÄ –û—Ç–∫—Ä—ã—Ç—å Web App"
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä—è–º–æ –≤ Telegram!

## üé® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Web App

- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- üí∞ **–ë–∞–ª–∞–Ω—Å** - USDT –∏ –æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è
- üìà **–ü–æ–∑–∏—Ü–∏–∏** - —Ç–µ–∫—É—â–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- üíπ **–†—ã–Ω–æ–∫** - —Ü–µ–Ω—ã, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ 24—á
- ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - —Ç–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, —Ä–∏—Å–∫
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø—Ä–∏–±—ã–ª—å, –≤–∏–Ω—Ä–µ–π—Ç, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫
- üéØ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –∑–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞ –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

Web App –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ Telegram —á–µ—Ä–µ–∑ HMAC-SHA256. –¢–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ Telegram –∫–ª–∏–µ–Ω—Ç–∞ –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã.

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `webapp/README.md`

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - Telegram Web Apps —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ HTTPS
2. **–¢–æ–∫–µ–Ω –±–æ—Ç–∞** - –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ
3. **Firewall** - –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏

## üéâ –ì–æ—Ç–æ–≤–æ!

Web App —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ Telegram!

---

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
- [Telegram Web Apps Documentation](https://core.telegram.org/bots/webapps)
- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [ngrok –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](https://ngrok.com/)
